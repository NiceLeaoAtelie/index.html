<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>SISTEMA PAULO 2.0</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background: #f4f7f6; padding: 20px; }
        .container-erp { max-width: 900px; margin: auto; background: white; padding: 20px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .aba-conteudo { display: none; padding-top: 20px; }
        .aba-ativa { display: block; }
        .nav-link { cursor: pointer; font-weight: bold; }
    </style>
</head>
<body>

<div class="container-erp">
    <h3 class="text-center text-primary mb-4">ðŸ“Š GESTÃƒO PAULO INTEGRADA</h3>

    <ul class="nav nav-tabs justify-content-center">
      <li class="nav-item"><a class="nav-link active" onclick="abrirAba('aba-estoque')">ESTOQUE MP</a></li>
      <li class="nav-item"><a class="nav-link" onclick="abrirAba('aba-produtos')">FICHA TÃ‰CNICA</a></li>
    </ul>

    <div id="aba-estoque" class="aba-conteudo aba-ativa">
        <h5>ðŸ“¦ Entrada de MatÃ©ria-Prima</h5>
        <div class="row g-2 shadow-sm p-3 border rounded">
            <div class="col-md-2"><label>CÃ³d:</label><input type="text" id="e_cod" class="form-control"></div>
            <div class="col-md-6"><label>Insumo:</label><input type="text" id="e_prod" class="form-control"></div>
            <div class="col-md-4"><label>Quantidade:</label><input type="number" id="e_qde" class="form-control"></div>
            <div class="col-md-4"><label>Valor Unit:</label><input type="number" id="e_vlr" class="form-control"></div>
            <div class="col-md-8"><label>&nbsp;</label><button class="btn btn-primary w-100" onclick="salvarEstoque()">SALVAR ENTRADA</button></div>
        </div>
    </div>

    <div id="aba-produtos" class="aba-conteudo">
        <h5>ðŸš€ Engenharia do Produto</h5>
        <div id="ficha-tecnica">
             <p>Aba de Ficha TÃ©cnica Ativa. Configure os insumos abaixo.</p>
        </div>
    </div>
</div>

<script>
    // âš ï¸ ATENÃ‡ÃƒO: COLE SEU LINK DO GOOGLE ABAIXO
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxptJfRSBxTmxJHyxFulO2zYWnrLAaZxd-U00VKITcp21rYTuExf7KYSOM05AR8qHoaBA/exec";

    function abrirAba(id) {
        document.querySelectorAll('.aba-conteudo').forEach(a => a.classList.remove('aba-ativa'));
        document.querySelectorAll('.nav-link').forEach(a => a.classList.remove('active'));
        document.getElementById(id).classList.add('aba-ativa');
        event.currentTarget.classList.add('active');
    }

    async function salvarEstoque() {
        const dados = {
            action: "addEstoque",
            cod: document.getElementById('e_cod').value,
            prod: document.getElementById('e_prod').value,
            qde: document.getElementById('e_qde').value,
            vlr: document.getElementById('e_vlr').value
        };
        
        try {
            await fetch(SCRIPT_URL, { method: 'POST', body: JSON.stringify(dados) });
            alert("Estoque Atualizado!");
        } catch(e) {
            alert("Erro de conexÃ£o. Verifique o SCRIPT_URL.");
        }
    }
</script>
</body>
</html>
